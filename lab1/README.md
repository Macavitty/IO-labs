# Лабораторная работа №1

**Название:** "Разработка драйверов символьных устройств"

**Цель работы:** Получить знания и навыки разработки драйверов символьных устройств для операционной системы Linux.

## Описание функциональности драйвера
При записи в файл символьного устройства /dev/var3 устройство запоминает результат суммы всех чисел, содержащихся во введенной строке. При чтении файла /proc/var3 в консоль выводится последовательность сумм, подсчитанных с момента загрузки модуля ядра. При чтении из файла символьного устройства /dev/var3 в кольцевой буфер ядра выводятся те же данные, которые выводятся и при чтении /proc/var3.


## Инструкция по сборке
$ cd IO-labs/lab1 \
$ make


## Инструкция пользователя
1. Собрать проект
2. Загрузить модуль: $ sudo insmod var3.ko
3. Проверить системные логи: $ dmesg
4. Проверить, создан ли proc файл: $ ls -l /proc/var3
5. Записать в символьное устройство: \# echo 'ping' > /dev/var3
6. Прочитать файл символьного устройства: \# cat /dev/var3
5. Прочитать proc файл: \# cat /proc/var3
6. Выгрузить модуль ядра: $ sudo rmmod var3

## Примеры использования
Записать в символьное устройство последовательно суммы 0, 19, 3: \
$ cd IO-labs/lab1 \
$ make \
$ sudo insmod var3.ko \
\# sudo echo 'foobarbaz' > /dev/var3 \
\# sudo echo '  3[12 too4' > /dev/var3 \
\# sudo echo '1asdf0001jcadcye^$1' > /dev/var3 \
\# cat /dev/var3 \
$ dmesg \
[51354.462670] var3: \
[51354.462670] 0 \
[51354.462670] 19 \
[51354.462670] 3 \
\# cat /proc/var3 \
0 \
19 \
3 \
$ sudo rmmod var3
